<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #b0c4de;">
  <a href="/" class="navbar-brand"><%= image_tag 'Thumbsmore_logo_icon.png', class: 'navbar-icon' %></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- メニュー項目 -->
  <div class="collapse navbar-collapse" id="navbarToggleExternalContent">
    <ul class="navbar-nav">
      <li class="nav-item"><%= link_to 'ADD NEW TWEET', tweets_search_path, class: 'nav-link' %></li>
      <li class="nav-item"><%= link_to 'BEST TWEET', best_path, class: 'nav-link' %></li>
      <li class="nav-item"><%= link_to 'WORST TWEET', worst_path, class: 'nav-link' %></li>
      <li class="nav-item"><%= link_to 'ABOUT', static_pages_about_path, class: 'nav-link' %></li>
      
      <% if user_signed_in? %>
        <li class="nav-item"><%= link_to "sign out", destroy_user_session_path, method: :delete, class: 'nav-link' %></li>
        <li class="nav-item"><%= link_to "mybookmarks", bookmarks_path, method: :get, class: 'nav-link' %></li>
        <% if current_user.provider = 'twitter' %>
            <li class="nav-item"><%= link_to "mytimeline", tweets_mytimeline_path, method: :get, class: 'nav-link' %></li>
          <% end %>
      <% else %>
        <li class="nav-item"><%= link_to "sign up", new_user_registration_path, method: :get, class: 'nav-link' %></li>
        <li class="nav-item"><%= link_to "sign in", new_user_session_path, method: :get, class: 'nav-link' %></li>
      <% end %>
      
    </ul>
  </div>
</nav>

<script>
  document.addEventListener('turbolinks:before-visit', function() {
    var $navbar = $('.navbar-collapse');
    
    if ( $navbar.hasClass('in') ) {
      $navbar.collapse('hide');
    }
  });
</script>
